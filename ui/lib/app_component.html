<h3>prom-metric-viewer</h3>


<p>
    We've found {{sortedMetrics.length}} metrics! -
    <a href="/metrics.md?contains={{filterQuery}}" target="_blank">Markdown Table</a>
</p>

<div class="alert alert-danger" role="alert" *ngIf="errorMessage != null">{{errorMessage}}</div>

<div class="metrics-box">
    <div class="filter-metrics">
        <input type="search" class="form-control" placeholder="Filter Metrics" autofocus
               [(ngModel)]="filterQuery"
               (keyup)="filter()"/>
    </div>

    <table *ngIf="errorMessage == null">
        <thead>
        <tr>
            <th (click)="sortBy('name')">
                Name
                <i class="fa"
                      [class.fa-long-arrow-up]="sortKey=='name' && sortOrder==1"
                      [class.fa-long-arrow-down]="sortKey=='name' && sortOrder==-1"></i>
            </th>
            <th (click)="sortBy('type')">
                Type
                <i class="fa"
                      [class.fa-long-arrow-up]="sortKey=='type' && sortOrder==1"
                      [class.fa-long-arrow-down]="sortKey=='type' && sortOrder==-1"></i>
            </th>
            <th (click)="sortBy('cardinality')">
                Cardinality
                <i class="fa"
                      [class.fa-long-arrow-up]="sortKey=='cardinality' && sortOrder==1"
                      [class.fa-long-arrow-down]="sortKey=='cardinality' && sortOrder==-1"></i>
            </th>
            <th (click)="sortBy('help')">
                Help
                <i class="fa"
                      [class.fa-long-arrow-up]="sortKey=='help' && sortOrder==1"
                      [class.fa-long-arrow-down]="sortKey=='help' && sortOrder==-1"></i>
            </th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let metric of sortedMetrics">
            <td>{{metric.name}}</td>
            <td>{{metric.type}}</td>
            <td>{{metric.cardinality}}</td>
            <td class="help">{{metric.help}}</td>
            <td class="expand">
                <i class="fa fa-chevron-up" aria-hidden="true"></i>
            </td>
        </tr>
        </tbody>
    </table>
</div>